<div class="col-xs-offset-1 col-xs-10 col-sm-offset-1 col-sm-10 col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1">
  <rd-widget>
    <rd-widget-body>
      <div class="widget-icon green pull-left">
        <i class="fa fa-file-powerpoint-o"></i>
      </div>
      <div class="title">Proyecto</div>
      <div class="comment">Información del Proyecto</div>
    </rd-widget-body>
    <form class="form-horizontal" ng-submit="save(projectForm)" name="projectForm" novalidate>


      <ui-input u-name="Nombre" ng-model="project.description"></ui-input>

      <div class="form-group">
        <label for="inputInvestigadorPrincipal" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Investigador Principal</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <select
            class="form-control"
            chosen
            ng-required="true"
            name="inputInvestigadorPrincipal"
            id="inputInvestigadorPrincipal"
            data-placeholder="Investigador Principal"
            ng-model="project.researcher"
            ng-options="participant.id as (participant.nombre + ' ' + participant.apellido) for participant in participants">
          </select>
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <ui-input
        u-name="FechaInicio"
        u-error="Por favor llenar con un año valido."
        u-type="number"
        u-desc="Fecha de Inicio"
        u-min="2000" u-max="2100"
        ng-model="project.date_start">
      </ui-input>

      <ui-input
        u-name="FechaFin"
        u-error="Por favor llenar con un año valido."
        u-type="number"
        u-desc="Fecha del Fin"
        u-min="2000" u-max="2100"
        ng-model="project.date_application">
      </ui-input>

      <div class="form-group">
        <label for="inputEstadoAplicacion" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Estado Aplicación</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">

          <div id="inputEstadoAplicacion" class="btn-group" data-toggle="buttons" ng-init="project.state_application">
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoAplicacion" id="state_application1" value="1" ng-model="project.state_application">Aceptada</label>
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoAplicacion" id="state_application2" value="2"  ng-model="project.state_application">En revisión</label>
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoAplicacion" id="state_application3" value="3"  ng-model="project.state_application">Rechazada</label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputEstadoActual" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Estado Actual</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <div id="inputEstadoActual" class="btn-group" data-toggle="buttons" ng-init="project.state_actual">
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoActual" id="state_actual1" value="1" ng-model="project.state_actual">Finalizada</label>
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoActual" id="state_actual2" value="2"  ng-model="project.state_actual">En proceso</label>
            <label class="btn btn-primary">
              <input type="radio" name="inputEstadoActual" id="state_actual3" value="3"  ng-model="project.state_actual">No finalizo</label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputCoInvestigadores" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Co-Investigadores</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <select
            id="inputCoInvestigadores"
            name="inputCoInvestigadores"
            class="form-control"
            chosen
            multiple
            ng-required="true"
            data-placeholder="Co-Investigadores"
            ng-model="project.coresearcher"
            ng-options="participant.id as (participant.nombre + ' ' + participant.apellido) for participant in participants">
          </select>
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputInstitucion" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Institucion</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputInstitucion" id="inputInstitucion" placeholder="Institucion" ng-model="project.institutions.principal" ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputInstitucionOtras" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Otras instituciones</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputInstitucionOtras" id="inputInstitucionOtras" placeholder="InstitucionOtras" ng-model="project.institutions.principal" ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputAsesor" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Asesor</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputAsesor" id="inputAsesor" placeholder="Asesor" ng-model="project.adviser " ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputFunds" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Fondos</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <select
            id="inputFunds"
            name="inputFunds"
            class="form-control"
            chosen
            multiple
            ng-required="true"
            data-placeholder="Fondos"
            ng-model="project.fund"
            ng-options="fund.id as fund.name for fund in funds">
          </select>
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputCurrency" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Moneda</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputCurrency" id="inputCurrency" placeholder="Moneda" ng-model="project.currency" ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <ui-input
        u-type="number"
        ng-model="project.total_amount"
        u-name="MontoTotal"
        u-desc="Monto Total"
        u-min="0">
      </ui-input>

      <ui-input
        u-type="number"
        ng-model="project.counterpart"
        u-name="Contrapartida"
        u-min="0">
      </ui-input>

      <ui-input
        u-type="number"
        ng-model="project.overhead"
        u-name="Overhead"
        u-min="0">
      </ui-input>

      <ui-input
        u-type="number"
        ng-model="project.input"
        u-name="Aporte"
        u-min="0">
      </ui-input>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputUnits" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Unidad ejecutora</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputUnits" id="inputUnits" placeholder="Unidad ejecutora" ng-model="project.executing_units.executing_unit" ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <!--TODO: Use chosen-->
      <div class="form-group">
        <label for="inputUnitsExecuting" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Unidad supervisora</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <input type="text" class="form-control" name="inputUnitsExecuting" id="inputUnitsExecuting" placeholder="Unidad supervisora" ng-model="project.executing_units.superviser_unit" ng-required="true">
          <div class="help-block with-errors"></div>
        </div>
      </div>

      <div class="form-group">
        <label for="inputPatent" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Patente</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <toggle id="inputPatent" name="inputPatent" ng-model="project.patent" on="Si" off="No" onstyle="btn-success" offstyle="btn-primary"></toggle>
        </div>
        <div class="help-block with-errors"></div>
      </div>

      <div class="form-group">
        <label for="inputSoftware" class="col-xs-offset-1 col-sm-offset-1 col-md-offset-1 col-lg-offset-1 col-xs-2 col-sm-2 col-md-2 col-lg-2 control-label">Software</label>
        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
          <toggle id="inputSoftware" name="inputSoftware" ng-model="project.software" on="Si" off="No" onstyle="btn-success" offstyle="btn-primary"></toggle>
        </div>
        <div class="help-block with-errors"></div>
      </div>

      <ui-submit></ui-submit>
    </form>
  </rd-widget>
</div>


<script ng-if="sponsors.$resolved">
  setTimeout(function(){
    $(".chosen").chosen();
  },50);
</script>
